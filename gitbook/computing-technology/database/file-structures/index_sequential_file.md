# 색인 순차 파일(Index Sequential File)
## 색인 순차 파일 이란?
- 순차 접근(Sequential Access)과 색인(Index) 접근 방식을 결합한 파일 구조를 의미
- 데이터를 순서대로 저장하면서도, **색인을 통해 빠르게 검색할 수 있도록 설계된 파일 구조**
- **색인 테이블**을 통해 데이터를 빠르게 찾을 수 있어 **검색 성능이 향상**된다.
- **대량의 데이터 처리, 검색이 빈번한 시스템**에서 많이 사용된다.
- 색인을 유지해야 하므로 **추가적인 저장 공간과 갱신 비용이 발생**할 수 있다.
---
## 색인 순차 파일의 특징
1. **순차 + 색인 접근 방식의 결합**
	- 데이터가 **순차적으로 저장**되며, **색인 데이블을 통해 직접 접근도 가능**
	- 빠른 검색과 순차적 데이터 처리가 가능하다.
2. **색인 구조 포함**
	- 데이터를 빠르게 찾기 위해 색인 테이블을 관리해야된다.
	- 색인은 **키 값(Primary Key)을 기반**으로 생성된다.
3. **빠른 검색 속도**
	- 단순한 순차 파일보다 랜덤 액세스(Random Access)가 가능하여 검색 속도가 빠르다.
	- 색인에 저장된 키 값 기반으로 직접 접근이 가능하다.
4. **파일 크기가 커질수록 색인 활용이 더욱 중요**
	- 데이터가 많아질수록 전체를 순차 검색하는 것은 비효율적이므로, 색인이 더 유용하게 사용된다.
---
## 색인 순차 파일의 구성 요소
1. **데이터 파일(Data File)**
	- 실제 데이터를 저장하는 파일
	- 키 값을 기준으로 정렬되어 저장된다.
2. **색인 파일(Index File)**
	- 데이터 파일의 키 값과 해당 데이터의 위치를 저장한 파일
	- 트리(Tree) 또는 해시(Hash) 구조로 구현될 수 있다.
3. **색인 테이블(Index Table)**
	- 특정 키 값을 기준으로 데이터의 위치를 찾을 수 있도록 정리된 테이블
	- 검색 시 색인 테이블을 먼저 탐색한 후, 해당 위치로 이동하여 데이터를 검색한다.
---
## 색인 순차 파일의 동작 방식
1. **데이터 삽입(Insertion)**
	- 새로운 데이터는 키 값에 따라 올바른 위치에 삽입된다.
	- **색인 테이블도 함께 갱신**된다.
2. **데이터 검색(Search)**
	- **색인 파일에서 먼저 검색**
	- 찾은 위치를 기반으로 데이터 파일에서 빠르게 접근
3. **데이터 삭제(Deletion)**
	- 데이터를 삭제하면, 색인에서도 해당 항목을 제거해야 한다.
	- 일반적으로 삭제된 데이터를 표시하고, 나중에 압축(Compaction) 과정을 통해 정리한다.
---
## 색인 순차 파일의 장점과 단점
| 장점                        | 단점                                      |
| :------------------------ | --------------------------------------- |
| 순차 접근과 색인 접근을 모두 지원하여 효율적 | 색인 테이블을 유지해야 하므로 추가적인 저장 공간이 필요         |
| 대량의 데이터에서도 빠른 검색 가능       | 데이터가 삭제될 경우 색인을 재구성해야 하는 오버헤드 발생        |
| 정렬된 데이터 저장 방식으로 순차처리에 유리  | 삽입/삭제 시 색인 파일도 갱신해야 하므로 처리 속도가 저하될 수 있다 |

---
## 색인 순차 파일 vs 순차 파일 vs 직접 파일
| 유형                                  | 접근방식                 | 검색속도                  | 추가비용         |
| :---------------------------------- | -------------------- | --------------------- | ------------ |
| 순차 파일<br>(Sequential File)          | 처음부터 끝까지 순차 탐색       | 느림<br>(전체 탐색 필요)      | 없음           |
| 색인 순차 파일<br>(Index Sequential File) | 순차 + 색인 검색           | 빠름<br>(색인 탐색 후 직접 접근) | 색인 테이블 유지 비용 |
| 직접 파일<br>(Direct File, Random File) | 해시(Hash) 또는 직접 주소 매핑 | 매우 빠름                 | 높은 저장 공간 필요  |

---
## 색인 순차 파일의 활용 사례
1. 대형 데이터베이스 시스템
2. 파일 기반 데이터 처리 시스템
3. 검색이 빈번한 응용 프로그램
---
## 색인 순차 파일 예제
### 색인 테이블 예제
| Key  | Offset |
| :--- | ------ |
| 1001 | 0x0000 |
| 1023 | 0x003A |
| 1050 | 0x005C |
| 1100 | 0x00A2 |
### 색인 기반 검색 과정
1. 검색 키 값: 1050
2. 색인 파일에서 1050 찾는다. > 위치 0x005C
3. 데이터 파일에서 0x005C 위치로 이동하여 데이터 읽는다.
---
