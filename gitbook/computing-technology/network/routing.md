# 라우팅(Routing)

## 라우팅(Routing)이란?

- 데이터 패킷을 목적지까지 최적의 경로를 찾아 전달하는 과정
- 네트워크 내에서 패킷이 어떻게 이동할지 결정하는 기술

✔ **네트워크 장치(라우터, 게이트웨이)가 경로를 결정하여 패킷을 전달**

✔ **라우팅 테이블(Routing Table)에 기반하여 목적지까지 가장 효율적인 경로 선택**

✔ **정적(Static) 또는 동적(Dynamic) 라우팅 방식 사용 가능**

---

## 라우팅의 주요 기능

| 기능             | 설명                                       |
| -------------- | ---------------------------------------- |
| 경로 설정          | 목적지까지 최적의 경로를 선택                         |
| 패킷 전달          | 패킷을 다음 네트워크 장치로 전달                       |
| 라우팅 테이블 관리     | 네트워크 경로 정보를 저장하고 업데이트                    |
| 동적 라우팅 프로토콜 사용 | RIP, OSPF, BGP 등의 프로토콜을 사용하여 경로를 자동으로 학습 |

---

## 라우팅 과정 (Routing Process)

1. 송신 장치(Source Device)에서 패킷 생성
2. 라우터(Router)에서 라우팅 테이블 조회
3. 최적 경로를 선택하여 패킷 전달
4. 목적지 네트워크에 도달하면 최종 장치에 패킷 전달

- 라우터는 각 목적지로 가는 여러 경로를 비교하여 최적의 경로를 선택한다.
- 최적의 경로는 홉 수(Hop Count), 대역폭(Bandwidth), 지연 시간(Delay)등을 기준으로 결정된다.

---

## 라우팅의 종류

| 라우팅 방식 | 설명                      | 장점                  | 단점                   |
| ------ | ----------------------- | ------------------- | -------------------- |
| 정적 라우팅 | 네트워크 관리자가 수동으로 경로를 설정   | 보안성이 높다.<br>관리가 쉽다. | 경로 변경 시 수동 조정이 필요하다. |
| 동적 라우팅 | 라우터가 자동으로 경로를 학습 및 업데이트 | 네트워크 변화에 자동으로 적응한다. | 프로토콜 오버해드가 발생한다.     |

### 정적 라우팅(Static Routing)

- 네트워크 관리자가 직접 경로를 설정하는 방식으로 라우팅 테이블 관리
- 변경이 거의 없는 작은 네트워크(사무실 등)에 많이 사용된다.
- 경로 변경이 발생하면 수동 조정이 필요하다.
- 보안성이 높고 네트워크 부하가 적다. (네트워크 활성 여부를 확인하기 위한 Hello Packet을 공유할 필요가 없음)

~~~bash
ip route add 192.168.2.0/24 via 192.168.1.1
# 192.168.2.0 네트워크로 가는 경로를 192.168.1.1을 통해 설정
~~~

### 동적 라우팅(Dynamic Routing)

- 라우터가 자동으로 네트워크 상태를 분석하고 경로를 업데이트하는 방식
- 대규모 네트워크(기업, ISP)에서 사용
- 네트워크 변화(장애, 경로 변경)에 자동으로 적응한다.
- 라우팅 프로토콜을 사용하여 경로를 학습 및 업데이트 한다.
- 라우터 간의 지속적인 정보 교환(Hello Packet)으로 최적 경로 유지
- 사용되는 동적 라우팅 프로토콜

| 프로토콜                                                  | 유형       | 특징                              | 주 용도                |
| ----------------------------------------------------- | -------- | ------------------------------- | ------------------- |
| RIP<br>(Routing Information Protocol)                 | 거리 벡터 방식 | 홉 수(Hop Count) 기준, 최대 15 홉 제한   | 작은 네트워크 (사무실, 가정 등) |
| OSPF<br>(Open Shortest Path First)                    | 링크 상태 방식 | 대규모 네트워크에서 사용, 최단 경로 우선 알고리즘    | 기업 네트워크             |
| EIGRP<br>(Enhanced Interior Gateway Routing Protocol) | 하이브리드 방식 | Cisco 전용 프로토콜, 거리 백터 + 링크 상태 방식 |                     |
| BGP<br>(Border Gateway Protocol)                      | 외부 라우팅   | 인터넷 백본에서 사용, ISP 간 경로 최적화       | ISP 인터넷             |

---

## 라우팅 테이블 (Routing Table)

- 각 목적지 네트워크로 가는 최적 경로를 저장하는 데이터베이스
- 라우터는 패킷을 전송할 때 라우팅 테이블을 참조하여 어디로 보낼지 결정한다.
- 예제

~~~
Destination     Gateway         Interface
192.168.1.0     0.0.0.0         eth0
192.168.2.0     192.168.1.1     eth1
0.0.0.0         192.168.1.254   eth0 (Default Route)
~~~

- 목적지 주소(Destination)에 따라 적절한 게이트웨이(Gateway)로 패킷 전송

---

## 라우팅과 스위칭 차이

| 구분    | 라우팅(Routing)           | 스위칭(Switching)            |
| ----- | ---------------------- | ------------------------- |
| 목적    | 패킷을 최적 경로로 전달          | LAN 내에서 데이터 프레임 전달        |
| 기반 주소 | IP 주소 기반 (네트워크 계층, L3) | MAC 주소 기반 (데이터 링크 계층, L2) |
| 장비    | 라우터(Router)            | 스위치(Switch)               |
| 주 사용처 | WAN, 인터넷 통신            | LAN 내부 통신                 |
