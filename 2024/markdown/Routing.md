외부 네트워크와 통신을 위해서는 추가 연결이 필요하다.
라우터 간의 연결을 [[DCE]](데이터 회선 장비)간 연결이라고 한다.
네트워크 장비를 가리키는 용어는 두 가지가 있다.
- [[DTE]]: 데이터 **단말** 장비
- [[DCE]]: 데이터 회선 장비

라우터는 [[DCE]]에 속하고 DCE 간 연결이 되어야 패킷을 주고 받을 수 있다.

DCE간 연결을 하는 과정을 라우팅이라 한다.

# 라우팅의 종류
---
크게 두가지가 있다.
- static routing : 관리자가 직접 연결
- [[dynamic routing]] : 그 외 연결
라우팅 된 정보는 라우팅 테이블에서 관리된다.

# 연결 시뮬레이션
---
![[Pasted image 20240819221447.png]]
외부 서버에 접근하기 위해 라우터 간 DCE 연결을 했다.
연결을 했으니 PC에서 서버에 핑을 보내보자

![[Pasted image 20240819221623.png]]
서버의 IP 192.168.100.1로 핑을 보내도 신호가 잡히지 않는다.
왜냐하면 라우터 끼리 선으로 연결만 되었지 라우팅 되어 있지 않기 때문이다.

PC(192.168.10.2/24)에서 server(192.168.100.1/24)로 데이터를 보내고자 한다면 그 과정을 테이블에 관리해야 한다.
그 테이블을 [[Routing table]]이라 한다.

외부망에 접근하려면 라우터(L3)에서 라우팅 테이블을 참조해 데이터를 주고 받는다.

라우터는 외부로 나가는 이터페이스에도 IP를 할당해야 사용이 가능하다.
임시로 아래와 같이 설정했다.
![[Pasted image 20240819222707.png]]
정상적으로 연결되었다면 초록불이 들어올 것이다.

이렇게 라우터에 새로운 IP를 할당하면 연결이 되었을까?
아니다
직접 라우팅 작업을 거치지 않으면 우리가 사용하는 내부 네트워크(192.168.10.0)에서는 외부(192.168.100.0)에 접근할 수 없다.

다시 라우터에 접속해 아래 명령어를 입력한다.
![[Pasted image 20240819223347.png]]
이렇게 하면 우리 네트워크(192.168.10.0)에서 외부(192.168.100.0)에 접속할 수 있게 된다.
여기서 마지막에 172.168.10.2는 외부 네트워크에 접속하기 위해 꼭 거쳐야 하는 **경유지**로 해당 경유지를 설정하지 않으면 외부 네트워크를 찾을 수 없다.

이제 통신이 될까?
아니다.

우리 라우터의 라우팅 테이블에만 경유지 설정을 통해 라우팅이 된 것이지 상태 네트워크에서는 우리 네트워크는 안전하지 않는 네트워크로 인식되어 차단된다.
외부 네트워크의 라우터에서도 우리 네트워크를 라우팅해야 접속이 가능해 진다.

![[Pasted image 20240819224402.png]]
외부 서버로 정상적으로 패킷 통신이 가능해 졌다.

한 가지 주의 할 점은 IP 설정에서 게이트웨이 설정을 꼭 해야 한다.
![[Pasted image 20240819224450.png]]
게이트웨이 설정이 빠지면 라우팅에 성공해도 결국 데이터가 나갈 통로가 없어 통신이 불가능해진다.

# [그 외 라우터 설정](RouterSetup.md)
---
